#pragma once

#include "khg_gfx/texture.h"

#define FOREACH_TEXTURE(TEXTURE)\
  TEXTURE(SQUARE)\
  TEXTURE(MAIN_ENVIRONMENT_GROUND)\
  TEXTURE(MAIN_ENVIRONMENT_TREE_0)\
  TEXTURE(MAIN_ENVIRONMENT_TREE_1)\
  TEXTURE(MAIN_ENVIRONMENT_MOUNTAIN_0)\
  TEXTURE(MAIN_ENVIRONMENT_MOUNTAIN_1)\
  TEXTURE(MAIN_ENVIRONMENT_BACKGROUND)\
  TEXTURE(MAIN_ENVIRONMENT_ROCK_0)\
  TEXTURE(MAIN_STATION_CART)\
  TEXTURE(MAIN_STATION_TWIN_HOUSE)\
  TEXTURE(PLAYER_HEAD)\
  TEXTURE(PLAYER_BODY)\
  TEXTURE(PLAYER_ARM_L)\
  TEXTURE(PLAYER_ARM_R)\
  TEXTURE(PLAYER_LEG_L)\
  TEXTURE(PLAYER_LEG_R)\
  TEXTURE(TILE_DUNGEON_0)\
  TEXTURE(TILE_DUNGEON_1)\
  TEXTURE(TILE_DUNGEON_2)\
  TEXTURE(TILE_DUNGEON_3)\
  TEXTURE(TILE_DUNGEON_4)\
  TEXTURE(TILE_DUNGEON_5)\
  TEXTURE(TILE_DUNGEON_6)\
  TEXTURE(TILE_DUNGEON_7)\
  TEXTURE(TILE_DUNGEON_8)\
  TEXTURE(TILE_DUNGEON_9)\
  TEXTURE(TILE_DUNGEON_10)\
  TEXTURE(TILE_DUNGEON_11)\
  TEXTURE(TILE_DUNGEON_12)\
  TEXTURE(TILE_DUNGEON_13)\
  TEXTURE(TILE_DUNGEON_14)\
  TEXTURE(TILE_DUNGEON_15)\
  TEXTURE(TILE_DUNGEON_16)\
  TEXTURE(TILE_DUNGEON_17)\
  TEXTURE(TILE_DUNGEON_18)\
  TEXTURE(TILE_DUNGEON_19)\
  TEXTURE(TILE_DUNGEON_20)\
  TEXTURE(TILE_DUNGEON_21)\
  TEXTURE(TILE_DUNGEON_22)\
  TEXTURE(TILE_DUNGEON_23)\
  TEXTURE(TILE_DUNGEON_24)\
  TEXTURE(TILE_DUNGEON_25)\
  TEXTURE(TILE_DUNGEON_26)\
  TEXTURE(TILE_DUNGEON_27)\
  TEXTURE(TILE_DUNGEON_28)\
  TEXTURE(TILE_DUNGEON_29)\
  TEXTURE(TILE_DUNGEON_30)\
  TEXTURE(TILE_DUNGEON_31)\
  TEXTURE(TILE_DUNGEON_32)\
  TEXTURE(TILE_DUNGEON_33)\
  TEXTURE(TILE_DUNGEON_34)\
  TEXTURE(TILE_DUNGEON_35)\
  TEXTURE(TILE_DUNGEON_36)\
  TEXTURE(TILE_DUNGEON_37)\
  TEXTURE(TILE_DUNGEON_38)\
  TEXTURE(TILE_DUNGEON_39)\
  TEXTURE(TILE_DUNGEON_40)\
  TEXTURE(TILE_DUNGEON_41)\
  TEXTURE(TILE_DUNGEON_42)\
  TEXTURE(TILE_DUNGEON_43)\
  TEXTURE(TILE_DUNGEON_44)\
  TEXTURE(TILE_DUNGEON_45)\
  TEXTURE(TILE_DUNGEON_46)\
  TEXTURE(TILE_DUNGEON_47)\
  TEXTURE(TILE_DUNGEON_48)\
  TEXTURE(TILE_DUNGEON_49)\
  TEXTURE(TILE_DUNGEON_50)\
  TEXTURE(TILE_DUNGEON_51)\
  TEXTURE(TILE_DUNGEON_52)\
  TEXTURE(TILE_DUNGEON_53)\
  TEXTURE(TILE_DUNGEON_54)\
  TEXTURE(TILE_DUNGEON_55)\
  TEXTURE(TILE_DUNGEON_56)\
  TEXTURE(TILE_DUNGEON_57)\
  TEXTURE(TILE_DUNGEON_58)\
  TEXTURE(TILE_DUNGEON_59)\
  TEXTURE(TILE_DUNGEON_60)\
  TEXTURE(TILE_DUNGEON_61)\
  TEXTURE(TILE_DUNGEON_62)\
  TEXTURE(TILE_DUNGEON_63)\
  TEXTURE(TILE_DUNGEON_64)\
  TEXTURE(TILE_DUNGEON_65)\
  TEXTURE(TILE_DUNGEON_66)\
  TEXTURE(TILE_DUNGEON_67)\
  TEXTURE(TILE_DUNGEON_68)\
  TEXTURE(TILE_DUNGEON_69)\
  TEXTURE(TILE_DUNGEON_70)\
  TEXTURE(TILE_DUNGEON_71)\
  TEXTURE(TILE_DUNGEON_72)\
  TEXTURE(TILE_DUNGEON_73)\
  TEXTURE(TILE_DUNGEON_74)\
  TEXTURE(TILE_DUNGEON_75)\
  TEXTURE(TILE_DUNGEON_76)\
  TEXTURE(TILE_DUNGEON_77)\
  TEXTURE(TILE_DUNGEON_78)\
  TEXTURE(TILE_DUNGEON_79)\
  TEXTURE(TILE_DUNGEON_80)\
  TEXTURE(TILE_DUNGEON_81)\
  TEXTURE(TILE_DUNGEON_82)\
  TEXTURE(TILE_DUNGEON_83)\
  TEXTURE(TILE_DUNGEON_84)\
  TEXTURE(TILE_DUNGEON_85)\
  TEXTURE(TILE_DUNGEON_86)\
  TEXTURE(TILE_DUNGEON_87)\
  TEXTURE(TILE_DUNGEON_88)\
  TEXTURE(TILE_DUNGEON_89)\
  TEXTURE(TILE_DUNGEON_90)\
  TEXTURE(TILE_DUNGEON_91)\
  TEXTURE(TILE_DUNGEON_92)\
  TEXTURE(TILE_DUNGEON_93)\
  TEXTURE(TILE_DUNGEON_94)\
  TEXTURE(TILE_DUNGEON_95)\
  TEXTURE(TILE_DUNGEON_96)\
  TEXTURE(TILE_DUNGEON_97)\
  TEXTURE(TILE_DUNGEON_98)\
  TEXTURE(TILE_DUNGEON_99)\
  TEXTURE(TILE_DUNGEON_100)\
  TEXTURE(TILE_DUNGEON_101)\
  TEXTURE(TILE_DUNGEON_102)\
  TEXTURE(TILE_DUNGEON_103)\
  TEXTURE(TILE_DUNGEON_104)\
  TEXTURE(TILE_DUNGEON_105)\
  TEXTURE(TILE_DUNGEON_106)\
  TEXTURE(TILE_DUNGEON_107)\
  TEXTURE(TILE_DUNGEON_108)\
  TEXTURE(TILE_DUNGEON_109)\
  TEXTURE(TILE_DUNGEON_110)\
  TEXTURE(TILE_DUNGEON_111)\
  TEXTURE(TILE_DUNGEON_112)\
  TEXTURE(TILE_DUNGEON_113)\
  TEXTURE(NUM_TEXTURES)\

#define GENERATE_TEXTURE_ENUM(ENUM) ENUM,
#define GENERATE_TEXTURE_STRING(STRING) #STRING,

typedef enum {
  FOREACH_TEXTURE(GENERATE_TEXTURE_ENUM)
} texture_id;

#define TEXTURE_STRINGS (char *[]){ FOREACH_TEXTURE(GENERATE_TEXTURE_STRING) }
#define TEXTURE_STRINGS_SIZE sizeof(TEXTURE_STRINGS) / sizeof(TEXTURE_STRINGS[0])

typedef struct texture_asset {
  char *tex_filepath;
  int tex_width;
  int tex_height;
} texture_asset;

const gfx_texture generate_texture(char *filepath, float width, float height);
const bool check_texture_loaded(int tex_id);
const int get_tex_id_from_string(const char *tex_key);
const gfx_texture get_or_add_texture(int tex_id);
const gfx_texture get_or_add_texture_from_string(const char *tex_key);
void generate_textures(void);
void reset_textures(void);

